// network calls when sendUserOperation() executed
// ERC-4337 Smart Wallet (not EIP-7702 EOA) sent USDC on Polygon, gas paid with Pimlico's ERC-20 Paymaster

// pimlico_getUserOperationGasPrice
{
  "jsonrpc": "2.0",
  "id": 33,
  "method": "pimlico_getUserOperationGasPrice",
  "params": []
}
// response
{
  "jsonrpc": "2.0",
  "id": 33,
  "result": {
      "slow": {
          "maxFeePerGas": "0x905ae1380",
          "maxPriorityFeePerGas": "0x905ae1380"
      },
      "standard": {
          "maxFeePerGas": "0x97929fae0",
          "maxPriorityFeePerGas": "0x97929fae0"
      },
      "fast": {
          "maxFeePerGas": "0x9eca5e240",
          "maxPriorityFeePerGas": "0x9eca5e240"
      }
  }
}

// pm_getPaymasterStubData
{
  "jsonrpc": "2.0",
  "id": 35,
  "method": "pm_getPaymasterStubData",
  "params": [
    {
      "callData": "0xe9ae5c5301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001200000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000777777777777aec03fd955926dbf81597e66834c00000000000000000000000000000000000000000000000000000000000186a0000000000000000000000000000000000000000000000000000000000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000a206df5844da81470c82d07ae1b797d139be58c20000000000000000000000000000000000000000000000000000000000004e2000000000000000000000000000000000000000000000000000000000",
      "maxFeePerGas": "0x9eca5e240",
      "maxPriorityFeePerGas": "0x9eca5e240",
      "nonce": "0x845adb2c711129d4f3966735ed98a9f09fc4ce5700000000000000000006",
      "sender": "0xb3D5dC30C3e264Aceb26e4f4cd3558c6C698B85B",
      "signature": "0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",
      "callGasLimit": "0x0",
      "verificationGasLimit": "0x0",
      "preVerificationGas": "0x0"
    },
    "0x0000000071727De22E5E9d8BAf0edAc6f37da032",
    "0x89",
    { "token": "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359" }
  ]
}
// response
{
  "jsonrpc": "2.0",
  "id": 35,
  "result": {
      "paymaster": "0x777777777777AeC03fd955926DbF81597e66834C",
      "paymasterData": "0x03000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000004a2e00000000000000000000000000000000000000000000000000000000000318e100000000000000000000000000000001d8baa107006c93a030d1455a2ef43261b384f21ccd91f19f0f19ce862d7bec7b7d9b95457145afc6f639c28fd0360f488937bfa41e6eedcd3a46054fd95fcd0e3ef6b0bc0a615c4d975eef55c8a3517257904d5b1c",
      "paymasterPostOpGasLimit": "0x10d7e"
  }
}

// eth_estimateUserOperationGas
{
  "jsonrpc": "2.0",
  "id": 36,
  "method": "eth_estimateUserOperationGas",
  "params": [
    {
      "sender": "0xb3D5dC30C3e264Aceb26e4f4cd3558c6C698B85B",
      "nonce": "0x845adb2c711129d4f3966735ed98a9f09fc4ce5700000000000000000006",
      "initCode": "0x",
      "callData": "0xe9ae5c5301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001200000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000777777777777aec03fd955926dbf81597e66834c00000000000000000000000000000000000000000000000000000000000186a0000000000000000000000000000000000000000000000000000000000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000a206df5844da81470c82d07ae1b797d139be58c20000000000000000000000000000000000000000000000000000000000004e2000000000000000000000000000000000000000000000000000000000",
      "callGasLimit": "0x0",
      "verificationGasLimit": "0x0",
      "preVerificationGas": "0x0",
      "maxFeePerGas": "0x9eca5e240",
      "maxPriorityFeePerGas": "0x9eca5e240",
      "paymasterAndData": "0x777777777777AeC03fd955926DbF81597e66834C03000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000004a2e00000000000000000000000000000000000000000000000000000000000318e100000000000000000000000000000001d8baa107006c93a030d1455a2ef43261b384f21ccd91f19f0f19ce862d7bec7b7d9b95457145afc6f639c28fd0360f488937bfa41e6eedcd3a46054fd95fcd0e3ef6b0bc0a615c4d975eef55c8a3517257904d5b1c",
      "paymasterVerificationGasLimit": "0x0",
      "paymasterPostOpGasLimit": "0x10d7e",
      "signature": "0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"
    },
    "0x0000000071727De22E5E9d8BAf0edAc6f37da032"
  ]
}
// response
{
  "jsonrpc": "2.0",
  "id": 36,
  "result": {
      "preVerificationGas": "0xdb42",
      "verificationGasLimit": "0x1573d",
      "callGasLimit": "0xdebf",
      "paymasterVerificationGasLimit": "0x912d",
      "paymasterPostOpGasLimit": "0x1a1b6"
  }
}

// pm_getPaymasterData
{
  "jsonrpc": "2.0",
  "id": 37,
  "method": "pm_getPaymasterData",
  "params": [
    {
      "sender": "0xb3D5dC30C3e264Aceb26e4f4cd3558c6C698B85B",
      "nonce": "0x845adb2c711129d4f3966735ed98a9f09fc4ce5700000000000000000006",
      "initCode": "0x",
      "callData": "0xe9ae5c5301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001200000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000777777777777aec03fd955926dbf81597e66834c00000000000000000000000000000000000000000000000000000000000186a0000000000000000000000000000000000000000000000000000000000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000a206df5844da81470c82d07ae1b797d139be58c20000000000000000000000000000000000000000000000000000000000004e2000000000000000000000000000000000000000000000000000000000",
      "callGasLimit": "0xdebf",
      "verificationGasLimit": "0x1573d",
      "preVerificationGas": "0xdb42",
      "maxFeePerGas": "0x9eca5e240",
      "maxPriorityFeePerGas": "0x9eca5e240",
      "paymasterAndData": "0x777777777777AeC03fd955926DbF81597e66834C03000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000004a2e00000000000000000000000000000000000000000000000000000000000318e100000000000000000000000000000001d8baa107006c93a030d1455a2ef43261b384f21ccd91f19f0f19ce862d7bec7b7d9b95457145afc6f639c28fd0360f488937bfa41e6eedcd3a46054fd95fcd0e3ef6b0bc0a615c4d975eef55c8a3517257904d5b1c",
      "paymasterVerificationGasLimit": "0x912d",
      "paymasterPostOpGasLimit": "0x10d7e",
      "signature": "0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"
    },
    "0x0000000071727De22E5E9d8BAf0edAc6f37da032",
    "0x89",
    {
      "token": "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359"
    }
  ]
}
// return
{
  "jsonrpc": "2.0",
  "id": 37,
  "result": {
      "paymaster": "0x777777777777AeC03fd955926DbF81597e66834C",
      "paymasterData": "0x02000000686ae9260000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000004a2e000000000000000000000000000000000000000000000000000000000003190300000000000000000000000000007424d8baa107006c93a030d1455a2ef43261b384f21c492a0c463fbde5c6aa8321ea43983743a48319bcf345d3027e24e6e0adb9bd6b3217e5bdf54f8a63cf4a0fa389b39b36ad4b34a7377e4a5b3d0d8ee1e435dce61b"
  }
}

// eth_sendUserOperation
{
  "id": 38,
  "jsonrpc": "2.0",
  "method": "eth_sendUserOperation",
  "params": [
    {
      "sender": "0xb3D5dC30C3e264Aceb26e4f4cd3558c6C698B85B",
      "nonce": "0x845adb2c711129d4f3966735ed98a9f09fc4ce5700000000000000000006",
      "initCode": "0x",
      "callData": "0xe9ae5c5301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001200000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000777777777777aec03fd955926dbf81597e66834c00000000000000000000000000000000000000000000000000000000000186a0000000000000000000000000000000000000000000000000000000000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000044a9059cbb000000000000000000000000a206df5844da81470c82d07ae1b797d139be58c20000000000000000000000000000000000000000000000000000000000004e2000000000000000000000000000000000000000000000000000000000",
      "callGasLimit": "0xdebf",
      "verificationGasLimit": "0x1573d",
      "preVerificationGas": "0xdb42",
      "maxFeePerGas": "0x9eca5e240",
      "maxPriorityFeePerGas": "0x9eca5e240",
      "paymasterAndData": "0x777777777777AeC03fd955926DbF81597e66834C02000000686ae9260000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000004a2e000000000000000000000000000000000000000000000000000000000003190300000000000000000000000000007424d8baa107006c93a030d1455a2ef43261b384f21c492a0c463fbde5c6aa8321ea43983743a48319bcf345d3027e24e6e0adb9bd6b3217e5bdf54f8a63cf4a0fa389b39b36ad4b34a7377e4a5b3d0d8ee1e435dce61b",
      "paymasterVerificationGasLimit": "0x912d",
      "paymasterPostOpGasLimit": "0x10d7e",
      "signature": "0xada421b0475f9d95e1d72508a1a1a26041f0ea042a47b4810ef0de0e1b38218b39839a02bcff2da14981f22ed5c1186bce04767065b6676bd5605d2979653cd81c"
    },
    "0x0000000071727De22E5E9d8BAf0edAc6f37da032"
  ]
}
// response
{
  "jsonrpc": "2.0",
  "id": 38,
  "result": "0x04c80c4a7aa33a535b8896fe91898627fc4c750764b234d903c3c9c10256f0e8"
}
